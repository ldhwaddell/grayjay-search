(()=>{"use strict";var e,n,r,t,o,i,a,c,u,s,l,f,h,p,d,v={723:(e,n,r)=>{r.d(n,{C:()=>c});var t=function(e,n,r,t){return new(r||(r=Promise))((function(o,i){function a(e){try{u(t.next(e))}catch(e){i(e)}}function c(e){try{u(t.throw(e))}catch(e){i(e)}}function u(e){var n;e.done?o(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(a,c)}u((t=t.apply(e,n||[])).next())}))},o=function(e,n){var r,t,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(r=1,t&&(o=2&c[0]?t.return:c[0]?t.throw||((o=t.return)&&o.call(t),0):t.next)&&!(o=o.call(t,c[1])).done)return o;switch(t=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,t=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=n.call(e,a)}catch(e){c=[6,e],t=0}finally{r=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},i=function(e,n,r){if(r||2===arguments.length)for(var t,o=0,i=n.length;o<i;o++)!t&&o in n||(t||(t=Array.prototype.slice.call(n,0,o)),t[o]=n[o]);return e.concat(t||Array.prototype.slice.call(n))},a="games",c=function(){function e(){}var n;return n=e,e.get=function(e){return t(void 0,void 0,void 0,(function(){return o(n,(function(n){return[2,new Promise((function(n,r){chrome.storage.local.get([e],(function(t){var o;if(chrome.runtime.lastError)r(new Error(chrome.runtime.lastError.message));else{var i=null!==(o=t[e])&&void 0!==o?o:null;n(i)}}))}))]}))}))},e.update=function(e,r){return t(void 0,void 0,void 0,(function(){return o(n,(function(n){return[2,new Promise((function(n,t){var o;chrome.storage.local.set(((o={})[e]=r,o),(function(){chrome.runtime.lastError?t(new Error(chrome.runtime.lastError.message)):n()}))}))]}))}))},e.addGames=function(e){return t(void 0,void 0,void 0,(function(){var r,t;return o(n,(function(n){switch(n.label){case 0:return e&&e.length?[4,this.get(a)]:[2];case 1:return r=n.sent()||[],t=i(i([],r,!0),e,!0),[4,this.update(a,t)];case 2:return[2,n.sent()]}}))}))},e.removeGames=function(e){return t(void 0,void 0,void 0,(function(){var r,t;return o(n,(function(n){switch(n.label){case 0:return e&&e.length?[4,this.get(a)]:[2];case 1:return r=n.sent(),t=r.filter((function(n){return!e.includes(n.id)})),[2,this.update(a,t)]}}))}))},e}()}},m={};function y(e){var n=m[e];if(void 0!==n)return n.exports;var r=m[e]={exports:{}};return v[e](r,r.exports,y),r.exports}y.d=(e,n)=>{for(var r in n)y.o(n,r)&&!y.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},y.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),e=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","isindex","keygen","link","menuitem","meta","nextid","param","source","track","wbr"],n=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g,r=function(r){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},o=r.match(/<\/?([^\s]+?)[/\s>]/);if(o&&(t.name=o[1],t.voidElement=e.includes(o[1])||"/"===r.charAt(r.length-2),t.name.startsWith("!--"))){var i=r.indexOf("--\x3e");return{type:"comment",comment:-1!==i?r.slice(4,i):""}}for(var a=new RegExp(n),c=null;null!==(c=a.exec(r));)if(c[0].trim())if(c[1]){var u=c[1].trim(),s=[u,""];u.indexOf("=")>-1&&(s=u.split("=")),t.attrs[s[0]]=s[1],a.lastIndex--}else c[2]&&(t.attrs[c[2]]=c[3].trim().substring(1,c[3].length-1));return t},t=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,o=/^\s*$/,i=Object.create(null),a=y(723),c=function(e,n,r,t){return new(r||(r=Promise))((function(o,i){function a(e){try{u(t.next(e))}catch(e){i(e)}}function c(e){try{u(t.throw(e))}catch(e){i(e)}}function u(e){var n;e.done?o(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(a,c)}u((t=t.apply(e,n||[])).next())}))},u=function(e,n){var r,t,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(r=1,t&&(o=2&c[0]?t.return:c[0]?t.throw||((o=t.return)&&o.call(t),0):t.next)&&!(o=o.call(t,c[1])).done)return o;switch(t=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,t=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=n.call(e,a)}catch(e){c=[6,e],t=0}finally{r=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},s=function(e,n,r){if(r||2===arguments.length)for(var t,o=0,i=n.length;o<i;o++)!t&&o in n||(t||(t=Array.prototype.slice.call(n,0,o)),t[o]=n[o]);return e.concat(t||Array.prototype.slice.call(n))},l=!1,f=function(e){var n;return"tag"===e.type&&"input"===e.name&&void 0!==(null===(n=e.attrs)||void 0===n?void 0:n.readonly)&&"string"==typeof e.attrs.value},h=function(e,n,r){return void 0===n&&(n=3),void 0===r&&(r=1e3),c(void 0,void 0,void 0,(function(){var t,o;return u(this,(function(i){switch(i.label){case 0:return i.trys.push([0,4,,7]),[4,fetch(e)];case 1:return(t=i.sent()).ok?[4,t.text()]:[3,3];case 2:return[2,i.sent()];case 3:throw new Error("Invalid response code: ".concat(t.status," for ").concat(e));case 4:return o=i.sent(),console.error("Error fetching ".concat(e,": ").concat(o)),n>1?[4,(a=r,new Promise((function(e){return setTimeout(e,a)})))]:[3,6];case 5:return i.sent(),[2,h(e,n-1,r)];case 6:throw new Error("Unable to scrape: ".concat(e," after ").concat(n," retries"));case 7:return[2]}var a}))}))},p=function(e){return c(void 0,void 0,void 0,(function(){var n,a,c,l,p;return u(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,h(e)];case 1:return n=u.sent(),a=function(e,n){void 0===n&&(n={}),n||(n={}),n.components||(n.components=i);var a,c=[],u=[],s=-1,l=!1;if(0!==e.indexOf("<")){var f=e.indexOf("<");c.push({type:"text",content:-1===f?e:e.substring(0,f)})}return e.replace(t,(function(t,i){if(l){if(t!=="</"+a.name+">")return"";l=!1}var f,h="/"!==t.charAt(1),p=t.startsWith("\x3c!--"),d=i+t.length,v=e.charAt(d);if(p){var m=r(t);return s<0?(c.push(m),c):((f=u[s])&&f.children&&Array.isArray(f.children)&&f.children.push(m),c)}if(h&&(s++,"tag"===(a=r(t)).type&&a.name&&n.components&&n.components[a.name]&&(a.type="component",l=!0),!a.voidElement&&!l&&v&&"<"!==v&&Array.isArray(a.children)&&a.children.push({type:"text",content:e.slice(d,e.indexOf("<",d))}),0===s&&c.push(a),(f=u[s-1])&&f.children&&f.children.push(a),u[s]=a),(!h||a.voidElement)&&(s>-1&&(a.voidElement||a.name===t.slice(2,-1))&&(s--,a=-1===s?c:u[s]),!l&&"<"!==v&&v)){f=-1===s?c:u[s].children;var y=e.indexOf("<",d),b=e.slice(d,-1===y?void 0:y);o.test(b)&&(b=" "),(y>-1&&s+f.length>=0||" "!==b)&&f&&Array.isArray(f)&&f.push({type:"text",content:b})}})),c}(n),c=function(e){for(var n=[],r=s([],e,!0);r.length>0;){var t=r.pop();t&&(f(t)&&n.push(t.attrs.value),t.children&&r.push.apply(r,t.children))}return n}(a),l=Number(e.split("/").pop()),[2,{url:e,id:l,referee1:c[5],referee2:c[4],linesman1:c[3],linesman2:c[2],timeKeeper1:c[1],timeKeeper2:c[0]}];case 2:return p=u.sent(),console.error("Error fetching game data for URL: ".concat(e),p),[2,null];case 3:return[2]}}))}))},d=function(e){return c(void 0,void 0,void 0,(function(){var n;return u(this,(function(r){return l?(console.warn("Already processing links. Ignoring new request to process links."),[2]):(n=e.links,l=!0,function(e){c(void 0,void 0,void 0,(function(){var n,r,t,o,i;return u(this,(function(c){switch(c.label){case 0:if(!e||!e.length)return[2];n=5,r=0,c.label=1;case 1:if(!(r<e.length))return[3,6];t=e.slice(r,r+n),c.label=2;case 2:return c.trys.push([2,4,,5]),[4,Promise.all(t.map((function(e){return p(e)})))];case 3:return o=c.sent(),a.C.addGames(o.filter((function(e){return null!==e}))),[3,5];case 4:return i=c.sent(),console.error("Error with a chunk:",t,i),[3,5];case 5:return r+=n,[3,1];case 6:return l=!1,[2]}}))}))}(n),[2])}))}))},chrome.runtime.onMessage.addListener((function(e,n,r){switch(e.type){case"PROCESS_LINKS":d(e);break;case"ERROR_SCRAPING_LINKS":return void console.error("Unable to scrape game links. Please refresh page")}}))})();